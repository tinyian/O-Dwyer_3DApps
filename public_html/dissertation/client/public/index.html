<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="../public/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../src/css/style.css" />
    <title>Immersify</title>
  </head>
  <body>
    <canvas id="bg"></canvas>
    <main class="menu">
          <header class="menu-item">
            <h1>Immersify</h1>
            <p>üé∂ Welcome <span id="displayName">!</span></p>
          </header>

          <section id="profile" class="menu-item">
            <h2>üîå Get Connected</h2>
                <h2>Logged in as <span id="displayName"></span></h2>
                <span id="avatar"></span>
                <ul>
                    <li>User ID: <span id="id"></span></li>
                    <li>Email: <span id="email"></span></li>
                    <li>Spotify URI: <a id="uri" href="#"></a></li>
                    <li>Link: <a id="url" href="#"></a></li>
                    <li>Profile Image: <span id="imgUrl"></span></li>
                </ul>
            </div>
          </section>
          
          <blockquote class="menu-item">
            <p>Your music has never looked so good.</p>
          </blockquote>

          <section class="light menu-item">
            <h2>üé§ Your Listening Hub</h2>

            <div id="deviceSection">
                <div class="col">
                    <div class="mb-3">
                        <label for="devices" class="form-label">Devices</label>
                        <select id="devices" class="form-control"></select>
                        <input class="btn btn-primary btn-sm mt-3" type="button" onclick="refreshDevices()" value="Refresh Devices">
                        <input type="button" class="btn btn-dark btn-sm  mt-3" onclick="transfer()" value="Transfer">
                    </div>
                    <div class="mb-3">
                        <label for="playlists" class="form-label">Playlists</label>
                        <select id="playlists" class="form-control"></select>
                        <input class="btn btn-primary btn-sm mt-3" type="button" onclick="refreshPlaylists()" value="Refresh Playlists">
                    </div>
                    <div class="mb-3">
                        <label for="tracks" class="form-label">Tracks</label>
                        <select id="tracks" class="form-control"></select>
                        <input class="btn btn-primary btn-sm mt-3" type="button" onclick="fetchTracks()" value="Fetch Tracks">
                    </div>
                    <div class="mb-3">
                        <label for="tracks" class="form-label">Album</label>
                        <input id="album" class="form-control">
                    </div>
                    <div class="row">
                        <div class="col">
                            <input type="button" class="btn btn-dark" onclick="previous()" value="Prev">
                            <input type="button" class="btn btn-dark" onclick="play()" value="Play">
                            <input type="button" class="btn btn-dark" onclick="shuffle()" value="Shuffle">
                            <input type="button" class="btn btn-dark" onclick="pause()" value="Pause">
                            <input type="button" class="btn btn-dark" onclick="next()" value="Next">
                        </div>
                    </div>


                    <div class="row mt-3">
                        <div class="col">
                            <h1>Currently Playing</h1>
                            <input type="button" class="btn btn-primary btn-sm mt-3" onclick="currentlyPlaying()" value="Refresh Currently Playing">
                            <div>
                                <img id="albumImage" src="">
                                <div id="trackTitle"></div>
                                <div id="trackArtist"></div>
                            </div>
                        </div>
                    </div>

                    <div class="row  mt-3">
                        <div class="col">
                            <div id="radioButtons"></div>
                            <input type="button" class="btn btn-dark" onclick="saveNewRadioButton()" value="Add">
                        </div>
                        <div class="col">
                            <div id="radioButtons"></div>
                            <input type="button" class="btn btn-dark" onclick="RefreshRadioButtons()" value="Delete">
                        </div>
                    </div>
                </div>
            </div>

          </section>

          <blockquote class="menu-item">
            <p>Music on. World off.<br>-AJay Deluxe</p>
          </blockquote>

          <section class="left menu-item">
              <h2>üèÜ Sources</h2>

              <div id="refSection">
                  <p class="welcomeText">This is a basic app developed with JS that uses Spotify's API to control the playback of music (only playlists for now, albums to come) on any devices connected to the user's spotify account.</p>
                  <p class="welcomeText">This version requires a Spotify client ID and client secret to authorize the API. I got these by creating an app in the Spotify developers dashboard <a href="https://developer.spotify.com/dashboard/applications" target="_blank">here</a> and adding the url for this website in the "Redirect URIs" settings field.
                  </p>
                  <p class="welcomeText"> As it sits, the app demostrates how the use the following APIs:
                      <ul>
                          <li>https://accounts.spotify.com/authorize </li>
                          <li>https://accounts.spotify.com/api/token </li>
                          <li>https://api.spotify.com/v1/me/playlists </li>
                          <li>https://api.spotify.com/v1/me/player/devices </li>
                          <li>https://api.spotify.com/v1/me/player/play </li>
                          <li>https://api.spotify.com/v1/me/player/pause </li>
                          <li>https://api.spotify.com/v1/me/player/next </li>
                          <li>https://api.spotify.com/v1/me/player/previous </li>
                          <li>https://api.spotify.com/v1/me/player </li>
                          <li>https://api.spotify.com/v1/playlists/{{PlaylistId}}/tracks </li>
                          <li>https://api.spotify.com/v1/me/player/currently-playing </li>
                          <li>https://api.spotify.com/v1/me/player/shuffle </li>
                      </ul>
                  </p>
                  <p class="welcomeText" style="margin-top: 40px;"> I used this project to learn the Spotify API in order to create this project:</p>
                  <iframe width="560" height="315" src="https://www.youtube.com/embed/1vR3m0HupGI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
              </div>

          </section>

          <blockquote class="menu-item">
            <p>üîÅ Replay?</p>
          </blockquote>
    </main>
    
    <script type="module" src="../src/js/main.js"></script>
    <script type="text/javascript" src="../src/js/spotifyApi2.js"></script>
<!--    <script type="text/javascript" src="../src/js/scroll.js"></script>-->
  </body>
</html>
