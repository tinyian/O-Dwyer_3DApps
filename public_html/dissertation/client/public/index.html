<!DOCTYPE html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="../public/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../src/css/style.css" />
    <title>Immersify</title>
  </head>
  <body onload="onPageLoad()">
      <!--    <canvas id="webgl"></canvas>-->
          <main>
              <div id="tokenSection" class="page">
                  <div>
                      <label for="clientId" class="form-label">Client ID</label>
                      <input type="text" class="form-control" id="clientId" placeholder="">650c310f0b86447a986d654cad6f4053</input>
                  </div>
                  <div>
                      <label for="clientSecret" class="form-label">Client Secret</label>
                      <input type="text" class="form-control" id="clientSecret" placeholder="">d93f90ff7819433198162b0377bdecf8</input>
                  </div>
                  <input class="btn btn-primary btn-lg" type="button" onclick="requestAuthorization()" value="Log in with Spotify"><br/>
              </div>
              <div id="deviceSection">
                  <section id="tools">
                      <a href="#" id="topBtn">Back to Top &#8593;</a>
                      <button id="theme">
                          <i id="sun" class="fa-solid fa-sun" style="display:block;"></i>
                          <i id="moon" class="fa-solid fa-moon" style="display:none;"></i>
                      </button>
                  </section>
                  
                    <section id="header" class="page">
                      <h1>Immersify</h1>
                      <h3>üé∂ Welcome <span id="displayName"></span></h3>
                    </section>

                    <section id="profile" class="page">
                      <h2>üîå Get Connected</h2>
                          <h2>Logged in as <span id="displayName"></span></h2>
                          <span id="avatar"></span>
                          <a id="imgUrl" href="#"></a>
                          <ul>
                              <li>User ID: <span id="id"></span></li>
                              <li>Spotify URI: <a id="uri" href="#"></a></li>
                          </ul>
                    </section>
                    
                    <section id="topArtists" class="page">
                      <h2>üèÜ Artists You're Loving</h2>
                          <div>
                              <h2>Your top artists <select id="artistRange" class="form-control">
                                  <option value="short">lately</option>
                                  <option value="medium">the last six months</option>
                                  <option value="long">of all time</option>
                              </select>.
                              </h2>
                              <input type="button" onclick="fetchTopArtists()" value="Reveal">
                          </div>
                          <div>
                              <div id="topartist"></div>
                          </div>
                    </section>
                    
                    <section id="tagline" class="page">
                        <blockquote>
                          <p>Your music has never looked so good.</p>
                        </blockquote>
                    </section>
                        
                    <section id="player" class="page">
                      <h2>üé§ Your Listening Hub</h2>
                          <div>
                              <div>
                                  <label for="devices" class="form-label">Devices</label>
                                  <select id="devices" class="form-control">
                                  </select>
                                  <input class="btn btn-primary btn-sm mt-3" type="button" onclick="refreshDevices()" value="Refresh Devices">
                                  <input type="button" class="btn btn-dark btn-sm  mt-3" onclick="transfer()" value="Transfer">
                              </div>

                              <div>
                                  <label for="playlists" class="form-label">Playlists</label>
                                  <select id="playlists" class="form-control">
                                  </select>
                                  <input class="btn btn-primary btn-sm mt-3" type="button" onclick="refreshPlaylists()" value="Refresh Playlists">
                              </div>
                              
                              <div>
                                  <label for="tracks" class="form-label">Tracks</label>
                                  <select id="tracks" class="form-control">
                                  </select>
                                  <input class="btn btn-primary btn-sm mt-3" type="button" onclick="fetchTracks()" value="Fetch Tracks">
                              </div>
                              
                              <div>
                                  <input type="button" class="btn btn-dark" onclick="previous()" value="Prev">
                                  <input type="button" class="btn btn-dark" onclick="play()" value="Play">
                                  <input type="button" class="btn btn-dark" onclick="shuffle()" value="Shuffle">
                                  <input type="button" class="btn btn-dark" onclick="pause()" value="Pause">
                                  <input type="button" class="btn btn-dark" onclick="next()" value="Next">
                              </div>


                              <div>
                                  <h3>Currently Playing</h3>
                                  <input type="button" class="btn btn-primary btn-sm mt-3" onclick="currentlyPlaying()" value="Refresh Currently Playing">
                                  <div>
                                      <div><p id="playlistTitle"></p><p id="playlistOwner"></p></div>
                                      <i id="trackTotal"></i><i id="duration_ms"></i>
                                      <div id="playlistArt"></div>
                                      <img id="albumImage" width="200" height="200" src="">
                                      <p id="trackTitle"></p>
                                      <p id="trackArtist"></p>
                                  </div>
                              </div>
                          </div>
                    </section>

                    <section id="quote" class="page">
                        <blockquote>
                          <p>Music on. World off.<br>-AJay Deluxe</p>
                        </blockquote>
                    </section>

                    <section id="topTracks" class="page">
                      <h2>üìä Top 10 Tracks</h2>
                          <div>
                              <h2>Your top tracks
                                  <select id="trackRange">
                                      <option value="short">lately</option>
                                      <option value="medium">the last six months</option>
                                      <option value="long">of all time</option>
                                  </select>.
                              </h2>
                              <input type="button" onclick="fetchTopTracks()" value="Reveal">
                          </div>
                          <ol>
                              <div id="toptrack"></div>
                          </ol>
                    </section>
                    
                    <section id="visuals" class="page">
                      <h2>üîÆ Visualizer Corner</h2>
                          <div class="vis">[dynamic frequency visualizer]</div>
                    </section>
                    
                    <section id="refs" class="page">
                        <h2>üîë Sources</h2>
                        <div>
                                <p>This is a javascript app that shows how to use the Spotify API to control the playback of music on any of your devices connected to your spotify account.</p>
                                <p>To use this app you need a Spotify client ID and client secret. You get these by creating an app in the Spotify developers dashboard here <a href="https://developer.spotify.com/dashboard/applications" target="_blank">https://developer.spotify.com/dashboard/applications</a> and add http://users.sussex.ac.uk/~io202/dissertation/client/public/index.html in the "Redirect URIs" settings field.
                                </p>
                                 <p>This app demostrates how the use the following APIs:
                                    <ul>
                                      <li>https://accounts.spotify.com/authorize</li>
                                      <li>https://accounts.spotify.com/api/token</li>
                                      <li>https://api.spotify.com/v1/me/playlists</li>
                                      <li>https://api.spotify.com/v1/me/player/devices</li>
                                      <li>https://api.spotify.com/v1/me/player/play</li>
                                      <li>https://api.spotify.com/v1/me/player/pause</li>
                                      <li>https://api.spotify.com/v1/me/player/next</li>
                                      <li>https://api.spotify.com/v1/me/player/previous</li>
                                      <li>https://api.spotify.com/v1/me/player</li>
                                      <li>https://api.spotify.com/v1/playlists/{{PlaylistId}}/tracks</li>
                                      <li>https://api.spotify.com/v1/me/player/currently-playing</li>
                                      <li>https://api.spotify.com/v1/me/player/shuffle</li>
                                    </ul>
                                 </p>
                      </div>
                    </section>

                    <section id="share" class="page">
                        <blockquote>
                          <p>üîÅ Replay?</p>
                        </blockquote>
                        <div>
                            [insert links to share the site]
                        </div>
                    </section>
              </div>
      </main>
    
    <script type="text/javascript" src="../src/js/script.js"></script>
    <script type="module" src="../src/js/canvas.js"></script>
    <script type="text/javascript" src="../src/js/spotifyApi.js"></script>
  </body>
</html>
