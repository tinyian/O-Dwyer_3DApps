<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="../public/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../src/css/style.css" />
    <title>Immersify</title>
  </head>
  <body onload="onPageLoad()">
<!--    <canvas id="bg"></canvas>-->
    <main class="menu">
          <header class="menu-item">
            <h1>Immersify</h1>
            <p>üé∂ Welcome <span id="displayName"></span></p>
          </header>

          <section id="profile" class="menu-item">
            <h2>üîå Get Connected</h2>
                <h2>Logged in as <span id="displayName"></span></h2>
                <span id="avatar"></span>
                <ul>
                    <li>User ID: <span id="id"></span></li>
                    <li>Email: <span id="email"></span></li>
                    <li>Spotify URI: <a id="uri" href="#"></a></li>
                    <li>Link: <a id="url" href="#"></a></li>
                    <li>Profile Image: <span id="imgUrl"></span></li>
                </ul>
          </section>
          
          <section id="topArtists" class="menu-item">
            <h2>üèÜ Artists You're Loving</h2>
                <h2>Your top artists right now.</h2>
                <ul>
                    <li><span id="topartist"></span></li>
                </ul>
          </section>
          
          <blockquote class="menu-item">
            <p>Your music has never looked so good.</p>
          </blockquote>

          <section class="light menu-item">
            <h2>üé§ Your Listening Hub</h2>
            <div id="deviceSection" class="row">
                <div class="col">

                    <div class="mb-3">
                        <label for="devices" class="form-label">Devices</label>
                        <select id="devices" class="form-control">
                        </select>
                        <input class="btn btn-primary btn-sm mt-3" type="button" onclick="refreshDevices()" value="Refresh Devices">
                        <input type="button" class="btn btn-dark btn-sm  mt-3" onclick="transfer()" value="Transfer">
                    </div>

                    <div class="mb-3">
                        <img id="playlistArt" src="">
                        <label for="playlists" class="form-label">Playlists</label>
                        <select id="playlists" class="form-control">
                        </select>
                        <input class="btn btn-primary btn-sm mt-3" type="button" onclick="refreshPlaylists()" value="Refresh Playlists">

                    </div>

                    <div class="mb-3">
                        <label for="tracks" class="form-label">Tracks</label>
                        <select id="tracks" class="form-control">
                        </select>
                        <input class="btn btn-primary btn-sm mt-3" type="button" onclick="fetchTracks()" value="Fetch Tracks">
                    </div>

                    <div class="mb-3">
                        <label for="tracks" class="form-label">Album</label>
                        <input id="album" class="form-control">
                    </div>

                    <div class="row">
                        <div class="col">
                            <input type="button" class="btn btn-dark" onclick="previous()" value="Prev">
                            <input type="button" class="btn btn-dark" onclick="play()" value="Play">
                            <input type="button" class="btn btn-dark" onclick="shuffle()" value="Shuffle">
                            <input type="button" class="btn btn-dark" onclick="pause()" value="Pause">
                            <input type="button" class="btn btn-dark" onclick="next()" value="Next">
                        </div>
                    </div>


                    <div class="row  mt-3">
                        <div class="col">
                            <h1> Currently Playing</h1>
                            <input type="button" class="btn btn-primary btn-sm mt-3" onclick="currentlyPlaying()" value="Refresh Currently Playing">
                            <div>
                                <img id="albumImage" src="">
                                <div id="trackTitle"></div>
                                <div id="trackArtist"></div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
          </section>

          <blockquote class="menu-item">
            <p>Music on. World off.<br>-AJay Deluxe</p>
          </blockquote>

          <section id="topTracks" class="menu-item">
            <h2>üìä Top 10 Tracks</h2>
                <h2>Your top tracks from the last <span id="timespan"></span></h2>
                <ul>
                    <li>1 - <span id="toptrack"></span> - <span id="length"></span></li>
                    <li>2 - <span id="2"></span> - <span id="length"></span></li>
                    <li>3 - <span id="3"></span> - <span id="length"></span></li>
                    <li>4 - <span id="4"></span> - <span id="length"></span></li>
                    <li>5 - <span id="5"></span> - <span id="length"></span></li>
                    <li>6 - <span id="6"></span> - <span id="length"></span></li>
                    <li>7 - <span id="7"></span> - <span id="length"></span></li>
                    <li>8 - <span id="8"></span> - <span id="length"></span></li>
                    <li>9 - <span id="9"></span> - <span id="length"></span></li>
                    <li>10 - <span id="10"></span> - <span id="length"></span></li>
                </ul>
          </section>
          
          <section id="topTracks" class="menu-item">
            <h2>üîÆ Visualizer Corner</h2>
                <div>[dynamic frequency visualizer]</div>
          </section>
          
          <section class="left menu-item">
              <h2>üîë Sources</h2>
              <div id="tokenSection" class="row">
                          <div class="col">
                              <p class="welcomeText">This is a javascript app that shows how to use the Spotify API to control the playback
                                  of music (playlist or albums) on any of your devices connected to your spotify account.</p>
                              <p class="welcomeText">To use this app you need a Spotify client ID and client secret. You get these by
                                  creating an app in the Spotify developers dashboard here
                                  <a href="https://developer.spotify.com/dashboard/applications" target="_blank">https://developer.spotify.com/dashboard/applications</a>
                                   and add https://makeratplay.github.io/SpotifyWebAPI/ in the "Redirect URIs" settings field.
                              </p>
                              <p  class="welcomeText">
                                  This app demostrates how the use the following APIs:
                                  <ul>
                                      <li>https://accounts.spotify.com/authorize </li>
                                      <li>https://accounts.spotify.com/api/token </li>
                                  
                                      <li>https://api.spotify.com/v1/me/playlists </li>
                                      <li>https://api.spotify.com/v1/me/player/devices </li>
                                      <li>https://api.spotify.com/v1/me/player/play </li>
                                      <li>https://api.spotify.com/v1/me/player/pause </li>
                                      <li>https://api.spotify.com/v1/me/player/next </li>
                                      <li>https://api.spotify.com/v1/me/player/previous </li>
                                      <li>https://api.spotify.com/v1/me/player </li>
                                      <li>https://api.spotify.com/v1/playlists/{{PlaylistId}}/tracks </li>
                                      <li>https://api.spotify.com/v1/me/player/currently-playing </li>
                                      <li>https://api.spotify.com/v1/me/player/shuffle </li>
                                  </ul>
                              </p>
                              
                          </div>
                          <div class="col">
                              <div class="mb-3">
                                  <label for="clientId" class="form-label">Client ID</label>
                                  <input type="text" class="form-control" id="clientId" placeholder="">
                              </div>
                              <div class="mb-3">
                                  <label for="clientSecret" class="form-label">Client Secret</label>
                                  <input type="text" class="form-control" id="clientSecret" placeholder="">
                              </div>
                              <input class="btn btn-primary btn-lg" type="button" onclick="requestAuthorization()" value="Request Authorization"><br/>
                          </div>

                          <div class="col">
                              <p class="welcomeText" style="margin-top: 40px;"> I used this project to learn the Spotify API in order to create this project:</p>
                              <iframe width="560" height="315" src="https://www.youtube.com/embed/H2HJ-LY7-lQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                          </div>
                      </div>
          </section>

          <section id="share">
              <blockquote class="menu-item">
                <p>üîÅ Replay?</p>
              </blockquote>
          </section>
    </main>
    
    <script type="module" src="../src/js/main.js"></script>
    <script type="text/javascript" src="../src/js/spotifyApi.js"></script>
<!--    <script type="text/javascript" src="../src/js/scroll.js"></script>-->
  </body>
</html>
